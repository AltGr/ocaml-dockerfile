<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Dockerfile.html">
<link rel="next" href="Dockerfile_distro.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Dockerfile" rel="Chapter" href="Dockerfile.html">
<link title="Dockerfile_opam" rel="Chapter" href="Dockerfile_opam.html">
<link title="Dockerfile_distro" rel="Chapter" href="Dockerfile_distro.html">
<link title="Dockerfile_opam_cmdliner" rel="Chapter" href="Dockerfile_opam_cmdliner.html"><title>Dockerfile_opam</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Dockerfile.html" title="Dockerfile">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Dockerfile_distro.html" title="Dockerfile_distro">Next</a>
</div>
<h1>Module <a href="type_Dockerfile_opam.html">Dockerfile_opam</a></h1>

<pre><span class="keyword">module</span> Dockerfile_opam: <code class="code"><span class="keyword">sig</span></code> <a href="Dockerfile_opam.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Rules for generating Dockerfiles involving OPAM<br>
</div>
<hr width="100%">

<pre><span class="keyword">module</span> <a href="Dockerfile_opam.RPM.html">RPM</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Dockerfile_opam.RPM.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
RPM distribution specific rules involving OPAM and OCaml
</div>

<pre><span class="keyword">module</span> <a href="Dockerfile_opam.Apt.html">Apt</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Dockerfile_opam.Apt.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Apt distribution specific rules involving OPAM and OCaml
</div>

<pre><span id="VALrun_as_opam"><span class="keyword">val</span> run_as_opam</span> : <code class="type">('a, unit, string, <a href="Dockerfile.html#TYPEt">Dockerfile.t</a>) Pervasives.format4 -> 'a</code></pre><div class="info ">
<code class="code">run_as_opam fmt</code> runs the command specified by the <code class="code">fmt</code>
    format string as the <code class="code">opam</code> user.<br>
</div>

<pre><span id="VALopamhome"><span class="keyword">val</span> opamhome</span> : <code class="type">string</code></pre><div class="info ">
The location of the <code class="code">opam</code> user home directory<br>
</div>

<pre><span id="VALopam_init"><span class="keyword">val</span> opam_init</span> : <code class="type">?branch:string -><br>       ?repo:string -><br>       ?need_upgrade:bool -> ?compiler_version:string -> unit -> <a href="Dockerfile.html#TYPEt">Dockerfile.t</a></code></pre><div class="info ">
<code class="code">opam_init ?branch ?repo ?need_upgrade ?compiler_version</code> initialises the OPAM
    repository.  The <code class="code">repo</code> is <code class="code">git://github.com/ocaml/opam-repository</code>
    by default and <code class="code">branch</code> is <code class="code">master</code> by default.
    If <code class="code">compiler-version</code> is specified, an <code class="code">opam switch</code> is executed to that
    version.  If unspecified, then the <code class="code">system</code> switch is default.
    <code class="code">need_upgrade</code> will run the <code class="code">opam admin upgrade-format</code> on the repository
    for the latest OPAM2 metadata format.<br>
</div>

<pre><span id="VALinstall_opam_from_source"><span class="keyword">val</span> install_opam_from_source</span> : <code class="type">?prefix:string -> ?branch:string -> unit -> <a href="Dockerfile.html#TYPEt">Dockerfile.t</a></code></pre><div class="info ">
Commands to install OPAM via a source code checkout from GitHub.
    The <code class="code">branch</code> defaults to the <code class="code">1.2</code> stable branch.
    The binaries are installed under <code class="code">&lt;prefix&gt;/bin</code>, defaulting to <code class="code">/usr/local/bin</code>.<br>
</div>

<pre><span id="VALinstall_cloud_solver"><span class="keyword">val</span> install_cloud_solver</span> : <code class="type"><a href="Dockerfile.html#TYPEt">Dockerfile.t</a></code></pre><div class="info ">
<code class="code">install_cloud_solver</code> will use the hosted OPAM aspcud service from IRILL.  It will
    install a fake <code class="code">/usr/bin/aspcud</code> script that requires online connectivity.<br>
</div>

<pre><span id="VALheader"><span class="keyword">val</span> header</span> : <code class="type">?maintainer:string -> string -> string -> <a href="Dockerfile.html#TYPEt">Dockerfile.t</a></code></pre><div class="info ">
<code class="code">header image tag</code> initalises a fresh Dockerfile using the <code class="code">image:tag</code>
    as its base.<br>
</div>
</body></html>